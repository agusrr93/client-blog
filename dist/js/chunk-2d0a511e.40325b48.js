(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a511e"],{"08aa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mb-4 my-5 mx-5 px-3"},[a("div",{staticClass:"card-body"},[a("h3",{staticClass:"card-title text-center display-10"},[t._v(t._s(this.article.title))]),a("hr"),a("p",{staticClass:"card-text",attrs:{align:"justify"}},[t._v(t._s(this.article.content))])]),a("div",{staticClass:"card-footer text-muted mb-5"},[t._v("\n    Posted on "+t._s(this.created)+" by "+t._s(this.name)+"\n  ")]),t.datalocal?a("div",{staticClass:"my-3"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commented,expression:"commented"}],staticClass:"form-control",attrs:{placeholder:"Comment........."},domProps:{value:t.commented},on:{input:function(e){e.target.composing||(t.commented=e.target.value)}}}),a("br"),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.addComment()}}},[t._v("comment")])])])]):t._e(),a("h5",[t._v("Comments Session: ")]),t._l(t.comment,function(e,n){return a("div",{key:n},[a("center",[a("hr"),a("i",[t._v(t._s(t.usercomment[n]))]),a("p",[t._v(t._s(e.comment))]),t.isHim[n]?a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.deleted(t.comment_id[n])}}},[t._v("Delete")]):t._e(),a("hr"),a("br"),a("br")])],1)})],2)},c=[],o=(a("7f7f"),a("ac6a"),a("cadf"),a("551c"),a("097d"),a("bc3a")),i=a.n(o),s={name:"detail",props:["id","datalocal"],data:function(){return{article:{},name:"",created:"",commented:"",comment:[],usercomment:[],isHim:[],comment_id:[]}},methods:{addComment:function(){var t=this;i()({method:"post",url:"http://35.197.157.128/comments/".concat(this.id),data:{comment:this.commented},headers:{token:this.datalocal.token}}).then(function(e){t.comment.push(e.data),t.getcomment(),location.reload()}).catch(function(t){t.response?alert(t.response.data.error):console.log(t)})},deleted:function(t){var e=this;i()({method:"delete",url:"http://35.197.157.128/comments/".concat(t),headers:{token:this.datalocal.token}}).then(function(t){var a=t.data.id;e.comment.forEach(function(t,n){t._id==a&&e.comment.splice(n,1)}),location.reload()}).catch(function(t){t.response?alert(t.response.data.error):console.log(t)})},getcomment:function(){var t=this,e=this;i()({method:"get",url:"http://35.197.157.128/articles/".concat(this.id)}).then(function(a){var n=new Date(a.data.date);e.created=a.data.date,e.name=a.data.userId.name,e.article=a.data,e.created=n.toISOString().substring(0,10),e.comment=a.data.comments,i()({method:"get",url:"http://localhost:3000/comments/".concat(e.id)}).then(function(a){for(var n=0;n<a.data.length;n++)e.usercomment[n]=a.data[n].userId.email,e.comment_id[n]=a.data[n]._id,e.usercomment[n]==t.datalocal.email?t.isHim.push(!0):t.isHim.push(!1)}).catch(function(t){alert(t)})}).catch(function(t){alert(t)})}},created:function(){var t=this,e=this;i()({method:"get",url:"http://35.197.157.128/articles/".concat(this.id)}).then(function(a){var n=new Date(a.data.date);e.created=a.data.date,e.name=a.data.userId.name,e.article=a.data,e.created=n.toISOString().substring(0,10),e.comment=a.data.comments,i()({method:"get",url:"http://35.197.157.128/comments/".concat(e.id)}).then(function(a){for(var n=0;n<a.data.length;n++)e.usercomment[n]=a.data[n].userId.email,e.comment_id[n]=a.data[n]._id,e.usercomment[n]==t.datalocal.email?t.isHim.push(!0):t.isHim.push(!1);console.log(t.isHim)}).catch(function(t){alert(t)})}).catch(function(t){alert(t)})},watch:{id:function(){var t=this,e=this;i()({method:"get",url:"http://35.197.157.128/articles/".concat(this.id)}).then(function(a){var n=new Date(a.data.date);e.created=n.toISOString().substring(0,10),e.name=a.data.userId.name,e.article=a.data,e.comment=a.data.comments,i()({method:"get",url:"http://35.197.157.128/comments/".concat(e.id)}).then(function(a){for(var n=0;n<a.data.length;n++)e.usercomment[n]=a.data[n].userId.email,e.comment_id[n]=a.data[n]._id,e.usercomment[n]==t.datalocal.email?t.isHim.push(!0):t.isHim.push(!1)}).catch(function(t){alert(t)})}).catch(function(t){console.log(t)})}}},m=s,d=a("2877"),r=Object(d["a"])(m,n,c,!1,null,null,null);r.options.__file="Detail.vue";e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0a511e.40325b48.js.map