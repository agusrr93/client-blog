{"version":3,"sources":["webpack:///./src/components/Detail.vue?c7ec","webpack:///src/components/Detail.vue","webpack:///./src/components/Detail.vue?a9ff","webpack:///./src/components/Detail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","article","title","attrs","align","content","created","name","directives","rawName","value","expression","placeholder","domProps","on","input","$event","target","composing","commented","type","click","addComment","_e","_l","item","index","key","usercomment","comment","isHim","deleted","comment_id","staticRenderFns","Detailvue_type_script_lang_js_","props","data","methods","_this","axios_default","method","url","concat","id","headers","token","datalocal","then","response","push","getcomment","location","reload","catch","err","alert","error","console","log","self","forEach","element","_id","splice","_this2","date","Date","userId","toISOString","substring","comments","i","length","email","_this3","watch","_this4","components_Detailvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0a511e.40325b48.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-4 my-5 mx-5 px-3\"},[_c('div',{staticClass:\"card-body\"},[_c('h3',{staticClass:\"card-title text-center display-10\"},[_vm._v(_vm._s(this.article.title))]),_c('hr'),_c('p',{staticClass:\"card-text\",attrs:{\"align\":\"justify\"}},[_vm._v(_vm._s(this.article.content))])]),_c('div',{staticClass:\"card-footer text-muted mb-5\"},[_vm._v(\"\\n    Posted on \"+_vm._s(this.created)+\" by \"+_vm._s(this.name)+\"\\n  \")]),(_vm.datalocal)?_c('div',{staticClass:\"my-3\"},[_c('div',{staticClass:\"form-group row\"},[_c('div',{staticClass:\"col-lg-10\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.commented),expression:\"commented\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Comment.........\"},domProps:{\"value\":(_vm.commented)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.commented=$event.target.value}}}),_c('br'),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.addComment()}}},[_vm._v(\"comment\")])])])]):_vm._e(),_c('h5',[_vm._v(\"Comments Session: \")]),_vm._l((_vm.comment),function(item,index){return _c('div',{key:index},[_c('center',[_c('hr'),_c('i',[_vm._v(_vm._s(_vm.usercomment[index]))]),_c('p',[_vm._v(_vm._s(item.comment))]),(_vm.isHim[index])?_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.deleted(_vm.comment_id[index])}}},[_vm._v(\"Delete\")]):_vm._e(),_c('hr'),_c('br'),_c('br')])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*eslint-disable*/\n<template>\n  <div class=\"card mb-4 my-5 mx-5 px-3\">\n    <div class=\"card-body\">\n      <h3 class=\"card-title text-center display-10\">{{ this.article.title}}</h3>\n      <hr>\n      <p class=\"card-text\" align=\"justify\">{{ this.article.content }}</p>\n    </div>\n    <div class=\"card-footer text-muted mb-5\">\n      Posted on {{ this.created }} by {{ this.name }}\n    </div>\n\n    <div class=\"my-3\" v-if=\"datalocal\">\n      <div class=\"form-group row\">\n        <div class=\"col-lg-10\">\n          <textarea class=\"form-control\" placeholder=\"Comment.........\" v-model=\"commented\"></textarea>\n          <br>\n          <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"addComment()\">comment</button>\n        </div>\n      </div>\n    </div>\n\n     <h5>Comments Session: </h5>\n    <div v-for=\"(item, index) in comment\" v-bind:key=\"index\">\n      <center>\n        <hr>\n        <i>{{usercomment[index]}}</i>\n        <p>{{item.comment}}</p>\n        <button type=\"button\" class=\"btn btn-default\" v-if=\"isHim[index]\" v-on:click=\"deleted(comment_id[index])\">Delete</button>\n        <hr>\n        <br><br>\n      </center>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'detail',\n  props: ['id', 'datalocal'],\n  data: function () {\n    return {\n      article: {},\n      name: '',\n      created: '',\n      commented: '',\n      comment:[],\n      usercomment:[],\n      isHim:[],\n      comment_id:[]\n    }\n  },methods:{\n      addComment () {\n      let self = this\n\n      axios({\n        method: 'post',\n        url: `http://35.197.157.128/comments/${this.id}`,\n        data: {\n          comment: this.commented\n        },\n        headers: {\n          token: this.datalocal.token\n        }\n      })\n       .then(response => {\n          this.comment.push(response.data)\n          this.getcomment()\n          location.reload()\n        })\n        .catch(err => {\n          if (err.response) {\n            alert(err.response.data.error)\n          } else {\n            console.log(err)\n          }\n      })\n    },deleted(value){\n        let self = this\n        axios({\n          method: 'delete',\n          url: `http://35.197.157.128/comments/${value}`,\n          headers: {\n            'token': this.datalocal.token\n          }\n        })\n        .then(response => {\n            let id=response.data.id            \n            self.comment.forEach((element,index) => {\n                if(element._id==id){\n                    self.comment.splice(index,1)\n                }\n            });\n            location.reload()\n        })\n        .catch(err => {\n           if (err.response) {\n             alert(err.response.data.error)\n           } \n           else {\n             console.log(err)\n          }\n        })\n    },getcomment(){\n        let self = this\n        axios({\n          method: 'get',\n          url: `http://35.197.157.128/articles/${this.id}`\n        })\n          .then(response => {\n             var date=new Date(response.data.date)\n              self.created =response.data.date\n              self.name = response.data.userId.name\n              self.article = response.data\n              self.created =date.toISOString().substring(0,10)\n              self.comment=response.data.comments\n              axios({\n                method: 'get',\n                url: `http://localhost:3000/comments/${self.id}`\n              }).then(response => {\n                \n                for(var i=0;i<response.data.length;i++){\n                    self.usercomment[i]=response.data[i].userId.email\n                    self.comment_id[i]=response.data[i]._id\n                    if(self.usercomment[i]==this.datalocal.email){\n                        this.isHim.push(true)\n                    }else{\n                      this.isHim.push(false)\n                    }\n                }\n              }).catch(err=>{\n                alert(err)\n              })\n        })\n        \n        .catch(err => {\n          alert(err)\n        })\n      }\n  },\n  created () {\n    let self = this\n\n    axios({\n      method: 'get',\n      url: `http://35.197.157.128/articles/${this.id}`\n    })\n      .then(response => {\n          var date=new Date(response.data.date)\n          \n          self.created =response.data.date\n          self.name = response.data.userId.name\n          self.article = response.data\n          self.created =date.toISOString().substring(0,10)\n          self.comment=response.data.comments\n          axios({\n            method: 'get',\n            url: `http://35.197.157.128/comments/${self.id}`\n          }).then(response => {\n            for(var i=0;i<response.data.length;i++){\n                self.usercomment[i]=response.data[i].userId.email\n                self.comment_id[i]=response.data[i]._id\n                if(self.usercomment[i]==this.datalocal.email){\n                    this.isHim.push(true)\n                }else{\n                  this.isHim.push(false)\n                }\n            }\n            console.log(this.isHim)\n          }).catch(err=>{\n            alert(err)\n          })\n      })\n      .catch(err => {\n        alert(err)\n      })\n  },\n  watch: {\n    id: function () {\n      let self = this\n\n      axios({\n        method: 'get',\n        url: `http://35.197.157.128/articles/${this.id}`\n      })\n        .then(response => {\n          var date=new Date(response.data.date)\n\n          self.created =date.toISOString().substring(0,10)\n          self.name = response.data.userId.name\n          self.article = response.data\n          self.comment=response.data.comments\n          axios({\n            method: 'get',\n            url: `http://35.197.157.128/comments/${self.id}`\n          }).then(response => {\n            for(var i=0;i<response.data.length;i++){\n                self.usercomment[i]=response.data[i].userId.email\n                self.comment_id[i]=response.data[i]._id\n                if(self.usercomment[i]==this.datalocal.email){\n                    this.isHim.push(true)\n                }else{\n                  this.isHim.push(false)\n                }\n            }\n          }).catch(err=>{\n            alert(err)\n          })  \n        })\n        .catch(err => {\n          console.log(err)\n        })\n    }\n  }\n}\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=64fdbaf8&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Detail.vue\"\nexport default component.exports"],"sourceRoot":""}