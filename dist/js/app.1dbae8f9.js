(function(t){function a(a){for(var s,i,n=a[0],l=a[1],d=a[2],c=0,u=[];c<n.length;c++)i=n[c],o[i]&&u.push(o[i][0]),o[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);m&&m(a);while(u.length)u.shift()();return r.push.apply(r,d||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,i=1;i<e.length;i++){var n=e[i];0!==o[n]&&(s=!1)}s&&(r.splice(a--,1),t=l(l.s=e[0]))}return t}var s={},i={app:0},o={app:0},r=[];function n(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-2d0a511e":"40325b48","chunk-2d0c4856":"601bdadf","chunk-49d47c9e":"51a1755c"}[t]+".js"}function l(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.e=function(t){var a=[],e={"chunk-49d47c9e":1};i[t]?a.push(i[t]):0!==i[t]&&e[t]&&a.push(i[t]=new Promise(function(a,e){for(var s="css/"+({}[t]||t)+"."+{"chunk-2d0a511e":"31d6cfe0","chunk-2d0c4856":"31d6cfe0","chunk-49d47c9e":"58c05a43"}[t]+".css",i=l.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var n=o[r],d=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(d===s||d===i))return a()}var c=document.getElementsByTagName("style");for(r=0;r<c.length;r++){n=c[r],d=n.getAttribute("data-href");if(d===s||d===i)return a()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=a,u.onerror=function(a){var s=a&&a.target&&a.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");o.request=s,e(o)},u.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(u)}).then(function(){i[t]=0}));var s=o[t];if(0!==s)if(s)a.push(s[2]);else{var r=new Promise(function(a,e){s=o[t]=[a,e]});a.push(s[2]=r);var d,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=n(t),d=function(a){u.onerror=u.onload=null,clearTimeout(m);var e=o[t];if(0!==e){if(e){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src,r=new Error("Loading chunk "+t+" failed.\n("+s+": "+i+")");r.type=s,r.request=i,e[1](r)}o[t]=void 0}};var m=setTimeout(function(){d({type:"timeout",target:u})},12e4);u.onerror=u.onload=d,c.appendChild(u)}return Promise.all(a)},l.m=t,l.c=s,l.d=function(t,a,e){l.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,a){if(1&a&&(t=l(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)l.d(e,s,function(a){return t[a]}.bind(null,s));return e},l.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(a,"a",a),a},l.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},l.p="/",l.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=a,d=d.slice();for(var u=0;u<d.length;u++)a(d[u]);var m=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"4a6e":function(t,a,e){"use strict";var s=e("a41d"),i=e.n(s);i.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},[e("div",{staticClass:"container flex-grow-1"},[e("a",{staticClass:"navbar-brand",attrs:{href:"http://localhost:8080"}},[t._v("Blog Overflow")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarResponsive"}},[e("ul",{staticClass:"navbar-nav ml-auto"},[e("li",{staticClass:"nav-item"},[t.data?e("a",{staticClass:"nav-link",attrs:{id:"logout"},on:{click:t.logout}},[t._v("Logout")]):t._e()]),e("li",{staticClass:"nav-item"},[t.data?t._e():e("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal","data-target":"#loginModal"}},[t._v("Login")])]),e("li",{staticClass:"nav-item"},[t.data?t._e():e("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal","data-target":"#registerModal"}},[t._v("Register")])])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"loginModal"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email address:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.emailLogin,expression:"emailLogin"}],staticClass:"form-control",attrs:{type:"email",required:""},domProps:{value:t.emailLogin},on:{input:function(a){a.target.composing||(t.emailLogin=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"pwd"}},[t._v("Password:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordLogin,expression:"passwordLogin"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.passwordLogin},on:{input:function(a){a.target.composing||(t.passwordLogin=a.target.value)}}})])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.login}},[t._v("Login")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"registerModal"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Name:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.name,expression:"registerData.name"}],staticClass:"form-control",attrs:{type:"name",required:"",autocomplete:"off"},domProps:{value:t.registerData.name},on:{input:function(a){a.target.composing||t.$set(t.registerData,"name",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email address:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.email,expression:"registerData.email"}],staticClass:"form-control",attrs:{type:"email",required:""},domProps:{value:t.registerData.email},on:{input:function(a){a.target.composing||t.$set(t.registerData,"email",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"pwd"}},[t._v("Password:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.password,expression:"registerData.password"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.registerData.password},on:{keyup:function(a){return"button"in a||!t._k(a.keyCode,"enter",13,a.key,"Enter")?t.register(a):null},input:function(a){a.target.composing||t.$set(t.registerData,"password",a.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.register}},[t._v("Register")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])]),e("router-view",{attrs:{datalocal:t.data}})],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[e("i",{staticClass:"fas fa-user"}),t._v(" Login")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[e("i",{staticClass:"fas fa-user"}),t._v(" Register")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])}],r=(e("7f7f"),e("bc3a")),n=e.n(r),l=localStorage.getItem("data")?JSON.parse(localStorage.getItem("data")):"",d={data:function(){return{data:l,registerData:{name:"",email:"",password:""},emailLogin:"",passwordLogin:""}},methods:{login:function(){var t=this;n()({method:"post",url:"http://35.197.157.128/users/login",data:{email:this.emailLogin||this.registerData.email,password:this.passwordLogin||this.registerData.password}}).then(function(a){var e={token:a.data.token,email:a.data.email};localStorage.setItem("data",JSON.stringify(e)),t.data=JSON.parse(localStorage.getItem("data")),t.emailLogin="",t.passwordLogin="",t.registerData.name="",t.registerData.email="",t.registerData.password="",location.reload()}).catch(function(t){t.response?alert("Login failed!"):console.log(t)})},register:function(){var t=this;n()({method:"post",url:"http://35.197.157.128/users",data:{name:this.registerData.name,email:this.registerData.email,password:this.registerData.password}}).then(function(){alert("Register succeed! Please Login.."),t.login(),location.reload()}).catch(function(t){t.response?alert(t.response.data.error):console.log(t)})},logout:function(){localStorage.removeItem("data"),this.data=!1,location.reload()}}},c=d,u=e("2877"),m=Object(u["a"])(c,i,o,!1,null,null,null);m.options.__file="App.vue";var p=m.exports,v=e("8c4f"),f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3 mt-5"},[e("Sidebar",{attrs:{datalocal:t.datalocal}})],1),e("router-view")],1)])])},g=[],h=e("5ea5"),b={name:"home",props:["datalocal"],components:{Sidebar:h["a"]}},C=b,_=Object(u["a"])(C,f,g,!1,null,null,null);_.options.__file="Home.vue";var y=_.exports;s["a"].use(v["a"]);var w=new v["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:y},{path:"/article",name:"article",component:function(){return e.e("chunk-2d0c4856").then(e.bind(null,"3ad6"))},children:[{path:":id",name:"article-detail",props:!0,component:function(){return e.e("chunk-2d0a511e").then(e.bind(null,"08aa"))}},{path:"all",name:"allarticle",props:!0,component:function(){return e.e("chunk-49d47c9e").then(e.bind(null,"7bf0"))}}]}]});s["a"].config.productionTip=!1,new s["a"]({router:w,render:function(t){return t(p)}}).$mount("#app")},"5ea5":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-5"},[t.datalocal?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v("\n      WELCOME TO DASHBOARD\n    ")]),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(t.datalocal.email))]),e("p",{staticClass:"card-text"},[t._v("Wish you enjoy this blog")])])]):t._e(),e("br"),t.datalocal?e("button",{staticClass:"btn btn-primary mb-3",attrs:{type:"button","data-toggle":"modal","data-target":"#addArticleModal"}},[t._v("Add Article")]):t._e(),e("h2",[t._v("List Articles")]),e("div",{staticClass:"list-group"},t._l(t.articles,function(a){return e("div",{key:a._id,staticClass:"list-group-item"},[e("router-link",{staticClass:"sidebar-title",attrs:{to:{name:"article-detail",params:{id:a._id}}}},[t._v(t._s(a.title))]),e("h6",[t._v("By: "+t._s(a.userId.name))]),a.isHim?e("a",{on:{click:function(e){t.deleted(a._id)}}},[e("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e(),t._v("||\n       "),a.isHim?e("a",{attrs:{"data-toggle":"modal","data-target":"#editModal"},on:{click:function(e){t.setter(a._id)}}},[e("i",{staticClass:"fa fa-floppy-o",attrs:{"aria-hidden":"true"}})]):t._e(),t._v("\n       ||"+t._s(a.comments.length)),e("i",{staticClass:"fa fa-comments",attrs:{"aria-hidden":"true"}})],1)})),e("div",{staticClass:"modal fade",attrs:{id:"addArticleModal"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("Title:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.title},on:{input:function(a){a.target.composing||(t.title=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("Content:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{rows:"8",cols:"80"},domProps:{value:t.content},on:{input:function(a){a.target.composing||(t.content=a.target.value)}}})])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.addArticle}},[t._v("Add Article")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"editModal"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("Title:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.edited_title,expression:"edited_title"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.edited_title},on:{input:function(a){a.target.composing||(t.edited_title=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("Content:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.edited_content,expression:"edited_content"}],staticClass:"form-control",attrs:{rows:"8",cols:"80"},domProps:{value:t.edited_content},on:{input:function(a){a.target.composing||(t.edited_content=a.target.value)}}})])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.update}},[t._v("Add Article")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Add Article")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Edit Article")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])}],o=(e("ac6a"),e("bc3a")),r=e.n(o),n={name:"sidebar",props:["datalocal"],data:function(){return{articles:[],title:"",content:"",edited_title:"",edited_content:"",editable:""}},methods:{addArticle:function(){var t=this;r()({method:"post",url:"http://35.197.157.128/articles",data:{title:this.title,content:this.content},headers:{token:this.datalocal.token}}).then(function(a){a.data.isHim=!0,t.articles.push(a.data)}).catch(function(t){t.response?alert(t.response.data.error):console.log(t)})},deleted:function(t){var a=this;r()({method:"delete",url:"http://35.197.157.128/articles/".concat(t),headers:{token:this.datalocal.token}}).then(function(t){var e=t.data.id;a.articles.forEach(function(t,s){t._id==e&&a.articles.splice(s,1)})}).catch(function(t){t.response?alert(t.response.data.error):console.log(t)})},update:function(){var t=this;r()({method:"put",url:"http://35.197.157.128/articles/".concat(t.editable),data:{title:this.edited_title,content:this.edited_content},headers:{token:this.datalocal.token}}).then(function(t){location.reload()}).catch(function(t){t.response?alert(t.response.data.error):console.log(t)})},setter:function(t){this.editable=t}},created:function(){var t=this,a=this;r()({method:"get",url:"http://35.197.157.128/articles/author"}).then(function(e){a.articles=e.data;for(var s=0;s<a.articles.length;s++)t.datalocal.email==a.articles[s].userId.email?a.articles[s].isHim=!0:a.articles[s].isHim=!1}).catch(function(t){console.log(t)})}},l=n,d=(e("4a6e"),e("2877")),c=Object(d["a"])(l,s,i,!1,null,"2f3b04cb",null);c.options.__file="Sidebar.vue";a["a"]=c.exports},a41d:function(t,a,e){}});
//# sourceMappingURL=app.1dbae8f9.js.map